<div class="modal fade" id="modal-container-login" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">Ã—</button>
				<h4 class="modal-title" id="myModalLabel">Login</h4>
			</div>
			<div class="modal-body">
				<div id="errorMessageLogin" class="alert alert-danger fade in" style="display:none">
					<strong id="strongErrorMessageLogin"></strong>
				</div>
				
				<form id="myAjaxRequestForm">
					<div class="form-group">
						<label class="form-control-label">User :</label>
						<input id="usernameLogin" type="text" name="username" class="form-control"/>
					</div>
					<div class="form-group">
						<label class="form-control-label">Password :</label>
						<input id="passwordLogin" type="password" name="password" class="form-control"></input>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				<button id="connectButton" type="button" class="btn btn-primary">Connect</button>
			</div>
		</div>
	</div>
</div>

<script>
$(document).ready(function() {
	
	//Stops the submit request
    $("#myAjaxRequestForm").submit(function(e){
           e.preventDefault();
    });

    //checks for the button click event
    $("#connectButton").click(function(e){

		$.ajax({
	        type: "POST",
	        url: "LoginServlet",
	        data : {
				username : $("#usernameLogin").val(),
				password : $("#passwordLogin").val(),
			},
	       
	        //if received a response from the server
	        success: function(data, textStatus, jqXHR) {
	             if(data.success){
	            	 location.reload();
	             } else { //display error message
	            	 $("#strongErrorMessageLogin").text(data.message);
	            	 $("#errorMessageLogin").show();
	             }
	        },
	       
	        error: function(jqXHR, textStatus, errorThrown){
	             alert("No response from the server");
	        }
	       
	    });  
    });
});
</script>